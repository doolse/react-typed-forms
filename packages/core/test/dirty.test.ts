import { describe, expect, it } from "@jest/globals";
import { newControl } from "../lib";

// Properties
describe("properties", () => {
  // string text always contains itself
  it("only shallow equals", () => {
    const c = newControl(mkRoad());
    c.value = mkRoad();
    expect(c.dirty).toBe(true);
  });
});

function mkRoad() {
  return {
    roadId: "rds00231a2396b5",
    type: "Road",
    jurisdictionControl: "State Growth",
    fullStreetName: "HIGHLAND LAKES ROAD",
    hierarchy: "SUB-ARTERIAL ROAD",
    freightData: {},
    osomData: {
      maxLength: 26,
      maxWidth: 4.5,
      maxHeight: 5,
      network: "Strategic",
      roadChallenge: 3,
    },
    shape: {
      paths: [
        [
          [16331615.656900004, -5126565.895100001],
          [16331622.476999998, -5126550.693399999],
          [16331637.798299998, -5126525.8467999995],
          [16331655.243699998, -5126501.7195999995],
          [16331679.0753, -5126475.123199999],
          [16331711.767300002, -5126447.8455],
          [16331764.708499998, -5126405.6965],
          [16331860.633599997, -5126331.681200001],
          [16331965.747599997, -5126264.455499999],
          [16332035.736699998, -5126209.9147000015],
          [16332307.212899998, -5125982.118099999],
          [16332529.666100003, -5125788.302700002],
          [16332633.070799999, -5125698.6592999995],
          [16332659.750200003, -5125666.7381],
          [16332677.5555, -5125639.410500001],
          [16332693.968199998, -5125604.6085],
          [16332704.724799998, -5125565.877900001],
          [16332714.120800003, -5125509.358800001],
          [16332716.7513, -5125463.132199999],
          [16332713.381300002, -5125409.772500001],
          [16332708.9384, -5125374.645],
          [16332695.7364, -5125278.836599998],
          [16332687.745099999, -5125230.441799998],
          [16332677.992899999, -5125178.8407999985],
          [16332663.729599997, -5125125.375799999],
          [16332643.997199997, -5125064.2124999985],
          [16332610.9753, -5124977.329],
          [16332565.646799996, -5124861.954599999],
          [16332542.424000002, -5124812.445599999],
          [16332519.945, -5124770.195999999],
          [16332480.7878, -5124700.574200001],
          [16332463.174800001, -5124669.5777],
          [16332443.422700003, -5124642.484099999],
          [16332418.358400002, -5124615.018100001],
          [16332319.828500003, -5124518.318700001],
          [16332223.0726, -5124426.2864000015],
          [16332162.892099999, -5124362.4142],
          [16332135.524999999, -5124326.0282000005],
          [16332022.731799997, -5124152.1138],
          [16332001.5867, -5124118.615800001],
          [16331979.0651, -5124073.024099998],
          [16331953.061300002, -5124009.283399999],
          [16331920.1298, -5123898.2261000015],
          [16331908.592200004, -5123851.9597],
          [16331903.7786, -5123808.2053],
          [16331905.6959, -5123764.4749],
          [16331914.001100004, -5123717.5636],
          [16331929.388099998, -5123671.389699999],
          [16331946.198600002, -5123623.085499998],
          [16331952.674000002, -5123593.5942],
          [16331952.751500003, -5123591.243799999],
        ],
      ],
      type: "MultiLineString",
    },
  };
}
